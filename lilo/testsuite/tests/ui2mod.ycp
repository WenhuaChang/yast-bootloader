/*
 * Authors:
 *  Unknown <unknown@addres.xx>
 *
 * $Id$
 *
 */

{
    include "testsuite.ycp";
    import "Pkg";

    map READ = $["target" : $[
            "string" : "root (hd0,0)\ninstall /grub/stage1 d (hd0) /grub/stage2 0x8000 (hd0,0)/grub/menu.lst\nquit",
            "tmpdir" : "/tmp"
        ], "etc" : $[
            "fstab" : [],
            "install_inf" : $[
                "Locale" : "en_EN",
                "InstMode" : "cd"
            ],
            "mtab" : []
        ], "probe" : $[
            "disk" : [],
            "boot_arch" : "grub",
            "architecture" : "i386",
            "has_apm" : true,
            "has_pcmcia" : false,
            "has_smp" : false,
            "system" : [],
            "floppy" : $[
                "manual" : []
            ], "cdrom" : $[
                "manual" : []
            ]
        ], "sysconfig" : $[
            "console" : $[
                "CONSOLE_FONT" : "lat2-16.psfu",
                "CONSOLE_SCREENMAP" : "trivial",
                "CONSOLE_UNICODEMAP" : "",
                "CONSOLE_MAGIC" : "(K",
                "CONSOLE_ENCODING" : "ISO-8859-2"
            ],
            "bootloader" : $[
                "LOADER_TYPE" : "grub"
            ]
        ], "md" : $[
            "config" : $[]
        ], "lvm" : $[
            "vg" : $[],
            "pv" : $[]
        ], "proc" : $[
            "swaps" : [],
            "mounts" : []
        ]
    ];
    TESTSUITE_INIT ([READ, $[], $[]], 0);

    include "lilo/routines.ycp";
    import "Lilo";

    Lilo::mode = `lilo;

    TEST(``(ui2mod("string")), [READ, $[], $[]], nil);
    TEST(``(ui2mod("string with spaces")), [READ, $[], $[]], nil);
    TEST(``(ui2mod("string_with_\"quote")), [READ, $[], $[]], nil);
    TEST(``(ui2mod("string with \\ backslash ")), [READ, $[], $[]], nil);
    TEST(``(ui2mod(5)), [READ, $[], $[]], nil);
    TEST(``(ui2mod("")), [READ, $[], $[]], nil);   
}
